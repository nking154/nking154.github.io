<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Projects — Nicholas King</title>
<link rel="stylesheet" href="/styles.css"/>
<style>
/* Collapsible overrides to match cards */
.collapsible {
  all: unset;
  display: block;
  width: 100%;
  text-align: left;
  font-size: 1.2em;
  cursor: pointer;
  padding: 12px 18px;
  margin-bottom: 5px;
  border-radius: 12px;
  border: 1px solid var(--border-color);
  background-color: var(--card-bg);
  color: var(--text-color);
  transition: background-color 0.3s, color 0.3s;
}

.collapsible:hover {
  background-color: var(--card-hover-bg);
}

.collapsible.active {
  font-weight: bold;
}

.content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.4s ease;
  background-color: var(--card-bg);
  border-radius: 12px;
  padding: 0 18px;
  margin-bottom: 15px;
}

.content.open {
  padding: 12px 18px;
}
</style>
</head>
<body>
<header class="container">
  <nav class="nav">
    <a class="brand" href="/">Nicholas King</a>
    <div class="links">
      <a href="/index.html">Home</a>
      <a href="/projects.html">Projects</a>
      <a href="/blog.html">Insights</a>
      <button id="theme-toggle">🌙</button>
    </div>
  </nav>
</header>

<main class="container">
  <h1>Projects</h1>

  <!-- Collapsible Sections -->
  <button class="collapsible">Sports Projects</button>
  <div class="content">
    <ul class="grid">
      <li class="card">
        <h3>Expected Goals (xG) Model</h3>
        <p>Simple xG model to predict the most efficient scorers in Europe</p>
        <p>
          <a href="https://nbviewer.org/github/nking154/nking154.github.io/blob/main/projects/xG-2.ipynb" target="_blank">Notebook</a>
        </p>
      </li>
    </ul>
  </div>

  <button class="collapsible">Machine Learning Projects</button>
  <div class="content">
    <ul class="grid">
      <li class="card">
        <h3>VAR vs Random Forest for Returns</h3>
        <p>Comparative forecasting across US/UK/Brazil/India/Mexico; error metrics and variable importance.</p>
        <p>
          <a href="dissertation/Master_Diss.pdf" target="_blank">PDF</a> · 
          <a href="dissertation/daily_diss_code.do" target="_blank">Code</a> ·
          <a href="dissertation/SUBMIT.dta" target="_blank">Data</a>
        </p>
      </li>
      <li class="card">
        <h3>House Price Prediction</h3>
        <p>Using Random Forest to predict house prices</p>
        <p>
          <a href="https://nbviewer.org/github/nking154/nking154.github.io/blob/main/projects/more-rf.ipynb" target="_blank">Notebook</a>
        </p>
      </li>
    </ul>
  </div>

  <button class="collapsible">Finance & Analysis Projects</button>
  <div class="content">
    <ul class="grid">
      <li class="card">
        <h3>Stock Analysis</h3>
        <p>In depth analysis of MSFT and forecasting.</p>
        <p>
          <a href="https://nbviewer.org/github/nking154/nking154.github.io/blob/main/projects/MSFT.ipynb" target="_blank">Notebook</a>
        </p>
      </li>
      <li class="card">
        <h3>Elasticity Modelling (In Progress)</h3>
        <p>Algorithm for measuring elasticity of goods and being able to compare this to new goods.</p>
        <p>
          <a href="https://nbviewer.org/github/nking154/nking154.github.io/blob/main/projects/Elasticity.ipynb" target="_blank">Notebook</a>
        </p>
      </li>
      <li class="card">
        <h3>Discounted Cash Flow Model</h3>
        <p>Discounted Cash Flow Model as part of JPMorgan job simulation</p>
        <p>
          <a href="projects/DCF.xlsx" target="_blank">Excel</a>
        </p>
      </li>
    </ul>
  </div>
</main>

<footer class="container footer">
  <p>© <span id="y"></span> Nicholas King</p>
</footer>

<script>
document.getElementById('y').textContent = new Date().getFullYear();

// Theme toggle logic remains unchanged
const toggleBtn = document.getElementById("theme-toggle");
const body = document.body;
if (localStorage.getItem("theme") === "dark") {
  body.classList.add("dark-mode");
  toggleBtn.textContent = "☀️";
}
toggleBtn.addEventListener("click", () => {
  body.classList.toggle("dark-mode");
  if (body.classList.contains("dark-mode")) {
    toggleBtn.textContent = "☀️";
    localStorage.setItem("theme", "dark");
  } else {
    toggleBtn.textContent = "🌙";
    localStorage.setItem("theme", "light");
  }
});

// Collapsible logic: only one open at a time with smooth transition
const collapsibles = document.querySelectorAll('.collapsible');
collapsibles.forEach(btn => {
  btn.addEventListener('click', () => {
    collapsibles.forEach(otherBtn => {
      const content = otherBtn.nextElementSibling;
      if(otherBtn !== btn) {
        otherBtn.classList.remove('active');
        content.style.maxHeight = null;
        content.classList.remove('open');
      }
    });
    btn.classList.toggle('active');
    const content = btn.nextElementSibling;
    if(content.style.maxHeight){
      content.style.maxHeight = null;
      content.classList.remove('open');
    } else {
      content.style.maxHeight = content.scrollHeight + "px";
      content.classList.add('open');
    }
  });
});
</script>
</body>
</html>
